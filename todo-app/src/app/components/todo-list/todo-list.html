<div class="todo-list-container">
  <div class="header">
    <h1>Todo List</h1>
    <button class="add-button" (click)="onAddNewTodo()">Add New Todo</button>
  </div>

  @if (todos$ | async; as todos) {
    <div class="todo-list">
      @if (todos.length === 0) {
        <div class="empty-message">
          No todos found. Create your first todo!
        </div>
      }
      
      @for (todo of todos; track todo.id) {
        <div 
          class="todo-item"
          [class]="getStatusClass(todo.status)"
          (click)="onTodoClick(todo)"
        >
      <div class="todo-content">
        <h3 class="todo-title">{{ todo.title }}</h3>
        <p class="todo-date">Created: {{ todo.creationDate | date:'short' }}</p>
        <span class="todo-status">{{ todo.status | titlecase }}</span>
      </div>
      
      <div class="todo-actions">
        <button 
          class="toggle-button"
          [class.done]="todo.status === 'done'"
          (click)="onToggleStatus(todo, $event)"
          title="Toggle status"
        >
          {{ todo.status === 'done' ? 'Mark Open' : 'Mark Done' }}
        </button>
        
        <button 
          class="delete-button"
          (click)="onDeleteTodo(todo, $event)"
          title="Delete todo"
        >
          Delete
        </button>
      </div>
        </div>
      }
    </div>
  }
</div>
